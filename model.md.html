<!doctype html>
<html>
	<head>
		<title>{title}</title>

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

		<script src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" async></script>
		<link href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown.css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Zilla+Slab:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

		<style>
			.content {
				margin: 0;
			}

			.markdown-body {
				font-family: 'Rubik', serif;
				font-size: 12px;
				min-width: 200px;
				padding: 45px 10%;
				margin: 0;
			}

			h1, h2, h3, h4, h5, h6 {
				font-family: 'Zilla Slab', sans-serif;
			}
		</style>
	</head>
	<body class="content">
		<article class="markdown-body"><h1 id="agent-based-model-for-community-solar-energy-networks-self-sufficiency-through-decentralized-trading">Agent-Based Model for Community Solar Energy Networks: Self-Sufficiency Through Decentralized Trading</h1>

<h2 id="1-model-components-and-state-space">1. Model Components and State Space</h2>

<h3 id="1-1-agent-classes-and-state-variables">1.1 Agent Classes and State Variables</h3>

<h4 id="1-1-1-household-agent-h">1.1.1 Household Agent (<span class="math inline">\(H\)</span>)</h4>

<p>Each household agent <span class="math inline">\(H_i\)</span> is characterized by the state vector:</p>
<p><span class="math display">\[
H_i = \{id_i, \mathbf{x}_i, c_i, \mathbf{D}_i, F_i, \mathbf{G}_i, B_{\text{cap},i}, B_i(t), E_i(t), S_i, \mathbf{N}_i, \alpha_i, R_i\}
\]</span></p><p>where:</p>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Domain</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><span class="math inline">\(id_i\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Unique identifier</td>
</tr>

<tr>
<td><span class="math inline">\(\mathbf{x}_i\)</span></td>
<td><span class="math inline">\(\mathbb{R}^2\)</span></td>
<td>Location coordinates</td>
</tr>

<tr>
<td><span class="math inline">\(c_i\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Community assignment</td>
</tr>

<tr>
<td><span class="math inline">\(\mathbf{D}_i\)</span></td>
<td><span class="math inline">\(\mathbb{R}^{12}\)</span></td>
<td>Monthly energy demand profile</td>
</tr>

<tr>
<td><span class="math inline">\(F_i\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Financial capacity</td>
</tr>

<tr>
<td><span class="math inline">\(\mathbf{G}_i\)</span></td>
<td><span class="math inline">\(\mathbb{R}^{12}\)</span></td>
<td>Monthly generation capacity</td>
</tr>

<tr>
<td><span class="math inline">\(B_{\text{cap},i}\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Battery capacity</td>
</tr>

<tr>
<td><span class="math inline">\(B_i(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Current battery charge</td>
</tr>

<tr>
<td><span class="math inline">\(E_i(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Excess energy available</td>
</tr>

<tr>
<td><span class="math inline">\(S_i\)</span></td>
<td><span class="math inline">\(\{0,1\}\)</span></td>
<td>Solar installation indicator</td>
</tr>

<tr>
<td><span class="math inline">\(\mathbf{N}_i\)</span></td>
<td><span class="math inline">\(\{0,1\}^{10}\)</span></td>
<td>Neighbor adoption status</td>
</tr>

<tr>
<td><span class="math inline">\(\alpha_i\)</span></td>
<td><span class="math inline">\([0,1]\)</span></td>
<td>Solar adoption propensity</td>
</tr>

<tr>
<td><span class="math inline">\(R_i\)</span></td>
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td>Expected return on investment</td>
</tr>
</tbody>
</table>

<h4 id="1-1-2-community-coordinator-c">1.1.2 Community Coordinator (<span class="math inline">\(C\)</span>)</h4>

<p>Each community coordinator <span class="math inline">\(C_j\)</span> manages local energy distribution:</p>
<p><span class="math display">\[
C_j = \{id_j, g_j, \mathcal{H}_j, M_j(t), P_j(t)\}
\]</span></p><p>where:</p>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Domain</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><span class="math inline">\(id_j\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Unique identifier</td>
</tr>

<tr>
<td><span class="math inline">\(g_j\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Grid station assignment</td>
</tr>

<tr>
<td><span class="math inline">\(\mathcal{H}_j\)</span></td>
<td>Set</td>
<td>Set of household IDs (size 20)</td>
</tr>

<tr>
<td><span class="math inline">\(M_j(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Market clearing price at time t</td>
</tr>

<tr>
<td><span class="math inline">\(P_j(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td>Community-wide power balance</td>
</tr>
</tbody>
</table>

<h4 id="1-1-3-grid-station-gamma">1.1.3 Grid Station (<span class="math inline">\(\Gamma\)</span>)</h4>

<p>Each grid station <span class="math inline">\(\Gamma_k\)</span> represents a connection to the main power grid:</p>
<p><span class="math display">\[
\Gamma_k = \{id_k, \kappa_k, \omega_k(t), \lambda_k(t), \delta_k\}
\]</span></p><p>where:</p>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Domain</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><span class="math inline">\(id_k\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Unique identifier</td>
</tr>

<tr>
<td><span class="math inline">\(\kappa_k\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Maximum supply capacity</td>
</tr>

<tr>
<td><span class="math inline">\(\omega_k(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Current load</td>
</tr>

<tr>
<td><span class="math inline">\(\lambda_k(t)\)</span></td>
<td><span class="math inline">\(\mathbb{R}^+\)</span></td>
<td>Dynamic pricing function</td>
</tr>

<tr>
<td><span class="math inline">\(\delta_k\)</span></td>
<td><span class="math inline">\([0,1]\)</span></td>
<td>Grid reliability factor</td>
</tr>
</tbody>
</table>

<h3 id="2-1-solar-generation-and-storage">2.1 Solar Generation and Storage</h3>

<p>The simulation occurs in monthly timesteps with the following substeps:</p>

<h4 id="2-1-1-solar-energy-generation">2.1.1 Solar Energy Generation</h4>

<p>For each household <span class="math inline">\(i\)</span> with solar installation (<span class="math inline">\(S_i = 1\)</span>), at time <span class="math inline">\(t\)</span>:</p>
<p><span class="math display">\[
G_i(t) = \eta_s \cdot A_i \cdot I(t) \cdot (1 - \epsilon_t)
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\eta_s\)</span> is the solar panel efficiency</li>
<li><span class="math inline">\(A_i\)</span> is the installed panel area</li>
<li><span class="math inline">\(I(t)\)</span> is the solar irradiance at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(\epsilon_t\)</span> is the environmental loss factor</li>
</ul>

<h4 id="2-1-2-battery-storage-dynamics">2.1.2 Battery Storage Dynamics</h4>

<p>The battery state of charge follows:</p>
<p><span class="math display">\[
B_i(t+1) = B_i(t) + \eta_b [G_i(t) - D_i(t)]_+ - \frac{[D_i(t) - G_i(t)]_+}{\eta_b}
\]</span></p><p>subject to:</p>
<p><span class="math display">\[
0 \leq B_i(t) \leq B_{\text{max},i}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\eta_b\)</span> is the battery round-trip efficiency</li>
<li><span class="math inline">\([x]_+ = \max(0,x)\)</span></li>
<li><span class="math inline">\(B_{\text{max},i}\)</span> is the battery capacity</li>
</ul>

<h4 id="2-1-3-available-trading-energy">2.1.3 Available Trading Energy</h4>

<p>For each household <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span>:</p>
<p><span class="math display">\[
E_i(t) = [G_i(t) + \frac{B_i(t)}{\Delta t} - D_i(t)]_+
\]</span></p><p>where <span class="math inline">\(\Delta t\)</span> is the trading interval.</p>

<h3 id="2-2-market-mechanism">2.2 Market Mechanism</h3>

<h4 id="2-2-1-community-level-market-clearing">2.2.1 Community-Level Market Clearing</h4>

<p>The community coordinator performs market clearing every <span class="math inline">\(\Delta t\)</span>, by calculating the aggregate supply and demand:</p>
<p><span class="math display">\[
S_j(t) = \sum_{i \in \mathcal{H}_j} E_i(t) \\
D_j(t) = \sum_{i \in \mathcal{H}_j} [D_i(t) - G_i(t) - \frac{B_i(t)}{\Delta t}]_+
\]</span></p><p>As well as the market clearing price:</p>
<p><span class="math display">\[
M_j(t) = \begin{cases}
\lambda_{\text{base}} &amp; \text{if } S_j(t) \geq D_j(t) \\
\lambda_{\text{base}} + \phi(D_j(t) - S_j(t)) &amp; \text{otherwise}
\end{cases}
\]</span></p><p>where <span class="math inline">\(\phi(\cdot)\)</span> is a price adjustment function.</p>

<h3 id="2-3-grid-interaction">2.3 Grid Interaction</h3>

<p>The grid stations calculate the net community power balance:</p>
<p><span class="math display">\[
P_j(t) = S_j(t) - D_j(t)
\]</span></p><p>following which they calculate the energy demand from each community:</p>
<p><span class="math display">\[
G_{\text{net},j}(t) = \begin{cases}
-P_j(t) &amp; \text{if } P_j(t) &lt; 0 \text{ (import)} \\
\min(P_j(t), \kappa_{\text{export}}) &amp; \text{if } P_j(t) &gt; 0 \text{ (export)}
\end{cases}
\]</span></p><p>And follow the below logic for station load management for each station <span class="math inline">\(k\)</span>:</p>
<p><span class="math display">\[
\omega_k(t+1) = \omega_k(t) + \sum_{j \in \mathcal{C}_k} G_{\text{net},j}(t)
\]</span></p><p>subject to:</p>
<p><span class="math display">\[
0 \leq \omega_k(t) \leq \kappa_k
\]</span></p>
<h2 id="3-environmental-parameters-and-optimization">3. Environmental Parameters and Optimization</h2>

<h3 id="3-1-system-parameters">3.1 System Parameters</h3>

<p>The simulation environment includes the following parameters that can be optimized:</p>

<h4 id="3-1-1-cost-parameters">3.1.1 Cost Parameters</h4>

<ol>
<li>Installation Cost Optimization:</li>
</ol>
<p><span class="math display">\[
C_{\text{install}}^* = \arg\min_{C} \sum_{i \in \mathcal{H}} \left(\frac{C}{F_i} - \frac{\sum_{t=1}^T R_i(t)}{(1+r)^t}\right)
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(C\)</span> is the installation cost</li>
<li><span class="math inline">\(R_i(t)\)</span> is the revenue at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(r\)</span> is the discount rate</li>
<li><span class="math inline">\(T\)</span> is the planning horizon</li>
</ul>

<ol>
<li>Maintenance Cost Optimization:</li>
</ol>
<p><span class="math display">\[
C_{\text{maintain}}^* = \arg\min_{C_m} \sum_{t=1}^T \frac{C_m + \lambda(C_m)\cdot L(t)}{(1+r)^t}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\lambda(C_m)\)</span> is the failure rate as a function of maintenance cost</li>
<li><span class="math inline">\(L(t)\)</span> is the loss function for system failures</li>
</ul>

<h4 id="3-1-2-pricing-optimization">3.1.2 Pricing Optimization</h4>

<ol>
<li>Grid Base Price:</li>
</ol>
<p><span class="math display">\[
\lambda_{\text{base}}^* = \arg\max_{\lambda} \left(\sum_{t=1}^T R_{\text{grid}}(t,\lambda) - \sum_{j \in \mathcal{C}} P_j(t)\right)
\]</span></p><p>subject to:</p>
<p><span class="math display">\[
\frac{1}{|\mathcal{H}|}\sum_{i \in \mathcal{H}} \frac{\lambda \cdot D_i(t)}{F_i} \leq \theta_{\text{afford}}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(R_{\text{grid}}(t,\lambda)\)</span> is grid revenue</li>
<li><span class="math inline">\(\theta_{\text{afford}}\)</span> is the affordability threshold</li>
</ul>

<ol>
<li>Distribution Efficiency:</li>
</ol>
<p><span class="math display">\[
\eta^* = \arg\max_{\eta} \left(\sum_{j \in \mathcal{C}} \text{CSSR}_j(\eta) - c(\eta)\right)
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\text{CSSR}_j(\eta)\)</span> is the Community Self-Sufficiency Ratio</li>
<li><span class="math inline">\(c(\eta)\)</span> is the cost function for achieving efficiency <span class="math inline">\(\eta\)</span></li>
</ul>

<h3 id="3-3-performance-metrics">3.3 Performance Metrics</h3>

<p>The optimization process is evaluated using:</p>

<ol>
<li>Community Self-Sufficiency Ratio:</li>
</ol>
<p><span class="math display">\[
\text{CSSR}_j(T) = 1 - \frac{\sum_{t \in T} G_{\text{net},j}(t)^+}{\sum_{t \in T} \sum_{i \in \mathcal{H}_j} D_i(t)}
\]</span></p>
<ol>
<li>Peak Import Reduction:</li>
</ol>
<p><span class="math display">\[
\text{PIR}_j(T) = 1 - \frac{\max_{t \in T} G_{\text{net},j}(t)^+}{\max_{t \in T_0} G_{\text{net},j}(t)^+}
\]</span></p>
<ol>
<li>Storage Utilization Factor:</li>
</ol>
<p><span class="math display">\[
\text{SUF}_j(T) = \frac{1}{|T|} \sum_{t \in T} \frac{\sum_{i \in \mathcal{H}_j} B_i(t)}{\sum_{i \in \mathcal{H}_j} B_{\text{max},i}}
\]</span></p>
<ol>
<li>System-wide Optimization Metric:</li>
</ol>
<p><span class="math display">\[
\Phi = w_1\text{CSSR} + w_2\text{PIR} + w_3\text{SUF} - w_4\text{Cost}
\]</span></p><p>where <span class="math inline">\(w_i\)</span> are importance weights determined through sensitivity analysis.</p>

<h2 id="4-experiments">4. Experiments</h2>

<h3 id="4-1-behind-the-meter-vs-community-solar-installation">4.1 Behind-the-Meter vs Community Solar Installation</h3>

<h4 id="hypothesis">Hypothesis</h4>

<p>Shared ownership through community solar installations reduces financial barriers to entry and increases overall solar adoption rates compared to individual behind-the-meter installations.</p>

<h4 id="extended-state-space">Extended State Space</h4>

<ol>
<li>Environment State Vector <span class="math inline">\(\mathcal{E}\)</span>:</li>
</ol>
<p><span class="math display">\[
\mathcal{E} = \{\ldots, C_s, b_{\text{min}}, M_s, \eta_b, \eta_c\}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(C_s\)</span>: Community solar installation cost</li>
<li><span class="math inline">\(b_{\text{min}}\)</span>: Minimum buy-in amount</li>
<li><span class="math inline">\(M_s\)</span>: Shared maintenance cost</li>
<li><span class="math inline">\(\eta_b\)</span>: BTM efficiency factor</li>
<li><span class="math inline">\(\eta_c\)</span>: Community solar efficiency factor</li>
</ul>

<ol>
<li>Extended Household State <span class="math inline">\(H_i'\)</span>:</li>
</ol>
<p><span class="math display">\[
H_i' = \{H_i, \sigma_i, \tau_i\}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\sigma_i \in [0,1]\)</span>: Ownership share in community installation</li>
<li><span class="math inline">\(\tau_i \in \{\text{btm}, \text{community}, \text{none}\}\)</span>: Installation type</li>
</ul>

<ol>
<li>Extended Community State <span class="math inline">\(C_j'\)</span>:
$<span class="math inline">\(
C_j' = \{C_j, K_j, \Sigma_j, \Sigma_j^a\}
\)</span>$</li>
</ol>

<p>where:</p>

<ul>
<li><span class="math inline">\(K_j\)</span>: Shared generation capacity</li>
<li><span class="math inline">\(\Sigma_j\)</span>: Total ownership shares</li>
<li><span class="math inline">\(\Sigma_j^a\)</span>: Available shares</li>
</ul>

<h4 id="modified-system-dynamics">Modified System Dynamics</h4>

<ol>
<li>Solar Generation Function:</li>
</ol>
<p><span class="math display">\[
G_i(t) = \begin{cases}
\eta_b \cdot g_i(t) &amp; \text{if } \tau_i = \text{btm} \\
\eta_c \cdot \sigma_i \cdot K_j \cdot s(t) &amp; \text{if } \tau_i = \text{community} \\
0 &amp; \text{otherwise}
\end{cases}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(g_i(t)\)</span>: Individual generation capacity</li>
<li><span class="math inline">\(s(t)\)</span>: Solar irradiance at time <span class="math inline">\(t\)</span></li>
</ul>

<ol>
<li>Adoption Decision Function:</li>
</ol>
<p><span class="math display">\[
\tau_i(t+1) = \begin{cases}
\text{btm} &amp; \text{if } F_i \geq C_{\text{install}} \land R_i &gt; r_{\text{min}} \\
\text{community} &amp; \text{if } F_i \geq b_{\text{min}} \land \Sigma_j^a &gt; 0 \\
\text{none} &amp; \text{otherwise}
\end{cases}
\]</span></p>
<h3 id="4-2-lmp-based-solar-generation-incentives">4.2 LMP-Based Solar Generation Incentives</h3>

<h4 id="extended-state-space-1">Extended State Space</h4>

<ol>
<li>Environment Parameters:</li>
</ol>
<p><span class="math display">\[
\mathcal{E}' = \{\mathcal{E}, \mu_p, \mu_s, \mathcal{T}_p, \mathcal{T}_s\}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\mu_p\)</span>: Peak price multiplier</li>
<li><span class="math inline">\(\mu_s\)</span>: Shoulder price multiplier</li>
<li><span class="math inline">\(\mathcal{T}_p\)</span>: Set of peak hours</li>
<li><span class="math inline">\(\mathcal{T}_s\)</span>: Set of shoulder hours</li>
</ul>

<h4 id="modified-system-dynamics-1">Modified System Dynamics</h4>

<ol>
<li>Locational Marginal Price:</li>
</ol>
<p><span class="math display">\[
\lambda_k(t) = \lambda_{\text{base}} \cdot \begin{cases}
\mu_p &amp; \text{if } t \bmod 24 \in \mathcal{T}_p \\
\mu_s &amp; \text{if } t \bmod 24 \in \mathcal{T}_s \\
1 &amp; \text{otherwise}
\end{cases}
\]</span></p>
<ol>
<li>Market Clearing Price:</li>
</ol>
<p><span class="math display">\[
M_j(t) = \min(\lambda_k(t) \cdot 0.95, \lambda_{\text{base}} \cdot \frac{D_j(t)}{S_j(t)})
\]</span></p>
<ol>
<li>Battery Storage Optimization:</li>
</ol>
<p><span class="math display">\[
B_i(t+1) = \begin{cases}
\min(B_{\text{cap},i}, B_i(t) + E_i(t)) &amp; \text{if } \lambda_k(t+1) &gt; 1.5\lambda_k(t) \\
B_i(t) + \eta_b[G_i(t) - D_i(t)]_+ - \frac{[D_i(t) - G_i(t)]_+}{\eta_b} &amp; \text{otherwise}
\end{cases}
\]</span></p>
<h3 id="4-3-social-influence-on-solar-adoption">4.3 Social Influence on Solar Adoption</h3>

<h4 id="extended-state-space-2">Extended State Space</h4>

<ol>
<li>Environment Parameters:</li>
</ol>
<p><span class="math display">\[
\mathcal{E}'' = \{\mathcal{E}, R_{\text{ref}}, r_{\text{inf}}, \theta_n\}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(R_{\text{ref}}\)</span>: Referral reward amount</li>
<li><span class="math inline">\(r_{\text{inf}}\)</span>: Influence radius</li>
<li><span class="math inline">\(\theta_n\)</span>: Neighbor adoption threshold</li>
</ul>

<ol>
<li>Extended Household State:</li>
</ol>
<p><span class="math display">\[
H_i'' = \{H_i', \mathbf{r}_i, \rho_i, \omega_i, \phi_i\}
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\mathbf{r}_i\)</span>: Vector of referrals made</li>
<li><span class="math inline">\(\rho_i\)</span>: Number of successful referrals</li>
<li><span class="math inline">\(\omega_i\)</span>: Accumulated rewards</li>
<li><span class="math inline">\(\phi_i\)</span>: ID of influencing household</li>
</ul>

<h4 id="modified-system-dynamics-2">Modified System Dynamics</h4>

<ol>
<li>Social Influence Function:</li>
</ol>
<p><span class="math display">\[
\Psi_i(t) = \frac{\sum_{j \in \mathcal{N}_i} \mathbb{1}[S_j(t) = 1]}{|\mathcal{N}_i|}
\]</span></p><p>where <span class="math inline">\(\mathcal{N}_i\)</span> is the set of neighbors within radius <span class="math inline">\(r_{\text{inf}}\)</span></p>

<ol>
<li>Adoption Probability:</li>
</ol>
<p><span class="math display">\[
P(S_i(t+1) = 1) = \min(1, \alpha_i + \beta \Psi_i(t)\mathbb{1}[\Psi_i(t) \geq \theta_n] + \gamma\mathbb{1}[\phi_i &gt; 0])
\]</span></p><p>where:</p>

<ul>
<li><span class="math inline">\(\beta\)</span>: Neighbor influence factor (0.3)</li>
<li><span class="math inline">\(\gamma\)</span>: Referral influence factor (0.2)</li>
</ul>

<ol>
<li>Reward Update Function:</li>
</ol>

<p>For successful adoption at time <span class="math inline">\(t\)</span>:</p>
<p><span class="math display">\[
\omega_{\phi_i}(t+1) = \omega_{\phi_i}(t) + R_{\text{ref}}
\]</span></p>
<h3 id="performance-metrics">Performance Metrics</h3>

<ol>
<li>Installation Type Ratio:</li>
</ol>
<p><span class="math display">\[
\text{ITR}(t) = \frac{\sum_{i} \mathbb{1}[\tau_i(t) = \text{community}]}{\sum_{i} \mathbb{1}[\tau_i(t) \in \{\text{btm}, \text{community}\}]}
\]</span></p>
<ol>
<li>Peak Generation Response:</li>
</ol>
<p><span class="math display">\[
\text{PGR}(t) = \frac{\sum_{h \in \mathcal{T}_p} G_{\text{total}}(h)}{\sum_{h=0}^{23} G_{\text{total}}(h)}
\]</span></p>
<ol>
<li>Social Network Effect:</li>
</ol>
<p><span class="math display">\[
\text{SNE}(t) = \frac{\sum_{i} \mathbb{1}[S_i(t) = 1 \land \phi_i &gt; 0]}{\sum_{i} \mathbb{1}[S_i(t) = 1]}
\]</span></p>
<ol>
<li>System-wide Metrics:</li>
</ol>
<p><span class="math display">\[
\begin{aligned}
\text{FAI}(t) &amp;= \frac{\sum_{i} \mathbb{1}[F_i \geq b_{\text{min}}]}{|\mathcal{H}|} \\
\text{PES}(t) &amp;= \frac{\Delta G_{\text{total}}(t)/G_{\text{total}}(t)}{\Delta \lambda(t)/\lambda(t)} \\
\text{RE}(t) &amp;= \frac{\sum_{i} \rho_i(t)}{\sum_{i} |\mathbf{r}_i(t)|}
\end{aligned}
\]</span></p></article>
	</body>
</html>
